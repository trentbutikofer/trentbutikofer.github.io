<!doctype html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The Official Weather Site for Southern Idaho">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" media="screen and (max-width: 600px)" href="css/small-10.css">
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 600px)" href="css/large-10.css">
  <title>Idaho Weather - Home</title>
  
  <script>
	
  </script>

</head>

<body>

    <header> 
        <div id="headerWrapper">
          <div id="titles">
          <div id="mainHeader">
             <img src="images/icon.png" alt="Weather Icon">
            <h1>IDAHO WEATHER</h1>
         </div>
        <h2 id="motto">"Wherever you go, no matter what the weather, always bring your own sunshine."</h2>
        </div>
        </div>
  
          <nav>
            <ul class="navigation">
              <li><a href="#"" onclick="toggleMenu()">&#9776; Menu</a></li>
              <li><a href="index.html">Home</a></li>
              <li><a href="preston-10.html">Preston</a></li>
              <li><a href="#">Soda Springs</a></li>
              <li><a href="#">Fish Haven</a></li>
              <li><a href="stormcenter.html">Storm Center</a></li>
              <li><a href="gallery-10.html">Gallery</a></li>
            </ul>
          </nav>
  
      </header>

      <main>
        <div id="townsDiv">

        </div>
      </main>

      <footer>

          <div id="contact">
    
            <div id="contactDiv1">
              <h4>Idaho Weather</h4>
              <p>30 N 1st E</p>
              <p>Preston, ID 83263</p>
              <p><img src="images/phone.jpg" alt="Phone Icon">999.999.999</p>
              <p><img src="images/email.jpg" alt="Email Icon">theweathersite@tws.com</p>
            </div>
    
          </div>
          
          <img src="images/map.png" alt="Southeastern Idaho Map" id="map">
          <div id="footerbar">
            <p>@2020 The Weather Site | Attributions | Trent Butikofer</p>
            <p id="date"></p>
          </div>
    
        </footer>
    
        <script src="js/currentDate.js"></script>
        <script src="js/hamburger.js"></script>

        <script>

          var header = document.querySelector('main');
    
          var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
          var request = new XMLHttpRequest();
          request.open('GET', requestURL);
          request.responseType = 'json';
          request.send();
    
          request.onload = function() {
            var weatherInfo = request.response;
            display(weatherInfo);
          }
    
          function display(jsonObj) {

            var main = document.getElementById("townsDiv");
            var towns = jsonObj['towns'];
          
            for (var i = 0; i < 3; i++) {
              var article = document.createElement('article');
                article.classList.add("town");
              var img = document.createElement("img");
                img.src = "images/town" + [i + 1] + ".jpg";
              var h5 = document.createElement('h5');
              var motto = document.createElement('p');
                motto.classList.add("motto");
              var yearFounded = document.createElement('p');
              var population = document.createElement('p');
              var rainFall = document.createElement('p');
    
              h5.textContent = towns[i].name;
              motto.textContent = towns[i].motto;
              yearFounded.textContent = "Year Founded: " + towns[i].yearFounded;
              population.textContent = "Population: " + towns[i].currentPopulation;
              rainFall.textContent = "Annual Rain Fall: " + towns[i].averageRainfall + "''";
    
              article.appendChild(h5);
              article.appendChild(motto);
              article.appendChild(yearFounded);
              article.appendChild(population);
              article.appendChild(rainFall);
              article.appendChild(img);
    
              main.appendChild(article);

            }
          }
    
        </script>

</body>

</html>