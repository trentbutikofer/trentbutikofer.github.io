<!doctype html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The Official Weather Site for Southern Idaho">
  <meta name="keywords" content="weather,Idaho,United States,Preston,Soda Springs,Fish Haven,forecast,temperature">
  <meta name="author" content="Trent Butikofer">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" media="screen and (max-width: 600px)" href="css/small.css">
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 600px)" href="css/large.css">
  <title>Idaho Weather - Home</title>
  
  <script>
	
  </script>

</head>

<body>

    <header> 
        <div id="headerWrapper">
          <div id="titles">
          <div id="mainHeader">
             <img src="images/icon.png" alt="Weather Icon">
             <a href="index.html"><h1>IDAHO WEATHER</h1></a>
         </div>
        <h2 id="motto">"Wherever you go, no matter what the weather, always bring your own sunshine."</h2>
        </div>
        </div>
  
          <nav>
            <ul class="navigation">
              <li><a href="#" onclick="toggleMenu()">&#9776; Menu</a></li>
              <li><a href="index.html">Home</a></li>
              <li><a href="preston.html">Preston</a></li>
              <li><a href="sodasprings.html">Soda Springs</a></li>
              <li><a href="fishhaven.html">Fish Haven</a></li>
              <li><a href="stormcenter.html">Storm Center</a></li>
              <li><a href="gallery.html">Gallery</a></li>
            </ul>
          </nav>
  
      </header>

      <main>
        <div id="townsDiv">

        </div>
      </main>

      <footer>

          <div id="contact">
    
            <div id="contactDiv1">
              <h4>Idaho Weather</h4>
              <p>30 N 1st E</p>
              <p>Preston, ID 83263</p>
              <p><img src="images/phone.jpg" alt="Phone Icon">999.999.999</p>
              <p><img src="images/email.jpg" alt="Email Icon">theweathersite@tws.com</p>
            </div>
    
          </div>
          
          <img src="images/map.png" alt="Southeastern Idaho Map" id="map">
          <div id="footerbar">
            <p>@2020 The Weather Site | Attributions | Trent Butikofer</p>
            <p id="date"></p>
          </div>
    
        </footer>
        <script src="js/currentDate.js"></script>
        <script src="js/hamburger.js"></script>
        <script>
          var header = document.querySelector('main');
          var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
          var request = new XMLHttpRequest();
          request.open('GET', requestURL);
          request.responseType = 'json';
          request.send();
          request.onload = function() {
            var weatherInfo = request.response;
            display(weatherInfo);
          }
          function display(jsonObj) {
            var main = document.getElementById("townsDiv");
            var towns = jsonObj['towns'];
            for (let x = 0; x < 3; x++) {
              var article = document.createElement('article');
                article.classList.add("town");
              var img = document.createElement("img");
              var h5 = document.createElement('h5');
              var motto = document.createElement('p');
                motto.classList.add("motto");
              var yearFounded = document.createElement('p');
              var population = document.createElement('p');
              var rainFall = document.createElement('p');
              article.appendChild(h5);
              article.appendChild(motto);
              article.appendChild(yearFounded);
              article.appendChild(population);
              article.appendChild(rainFall);
              article.appendChild(img);
              main.appendChild(article);
            }
            for (let y = 0; y < main.children.length; y++) {
              var townDiv = main.children[y];
              if (y == 0) {
                for (let z = 0; z < townDiv.children.length; z++) {
                  townDiv.children[0].textContent = towns[1].name;
                  townDiv.children[1].textContent = towns[1].motto;
                  townDiv.children[2].textContent = "Year Founded: " + towns[1].yearFounded;
                  townDiv.children[3].textContent = "Population: " + towns[1].currentPopulation;
                  townDiv.children[4].textContent = "Rainfall: " + towns[1].averageRainfall + "''";
                  townDiv.children[5].src = "images/fishhaven_large.jpg";
                }
              } else if (y == 1) {
                for (let z = 0; z < townDiv.children.length; z++) {
                  townDiv.children[0].textContent = towns[5].name;
                  townDiv.children[1].textContent = towns[5].motto;
                  townDiv.children[2].textContent = "Year Founded: " + towns[5].yearFounded;
                  townDiv.children[3].textContent = "Population: " + towns[5].currentPopulation;
                  townDiv.children[4].textContent = "Rainfall: " + towns[5].averageRainfall + "''";
                  townDiv.children[5].src = "images/sodasprings_large.jpg";
                }
              } else if (y == 2) {
                for (let z = 0; z < townDiv.children.length; z++) {
                  townDiv.children[0].textContent = towns[4].name;
                  townDiv.children[1].textContent = towns[4].motto;
                  townDiv.children[2].textContent = "Year Founded: " + towns[4].yearFounded;
                  townDiv.children[3].textContent = "Population: " + towns[4].currentPopulation;
                  townDiv.children[4].textContent = "Rainfall: " + towns[4].averageRainfall + "''";
                  townDiv.children[5].src = "images/waterconservation_large.jpg";
                }
              }
            }
          }
        </script>

</body>

</html>